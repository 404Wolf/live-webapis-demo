asyncapi: 3.0.0
info:
  title: Simple Raw WebSocket API
  version: 1.0.0
  description: >
    Minimal AsyncAPI 3.0 spec for a raw WebSocket server
    running locally on port 8080 with a single /ws endpoint.

servers:
  local:
    host: localhost:8080
    protocol: ws
    description: Local raw WebSocket server.
    bindings:
      ws:
        type: object
        description: Raw WebSocket server, no subprotocols or headers.

channels:
  /ws:
    description: Main WebSocket endpoint for raw message exchange.
    bindings:
      ws:
        type: object
        description: Raw WebSocket channel binding (no query params, headers, or subprotocols).
    messages:
      message:
        name: message
        title: Generic Message
        contentType: application/json
        payload:
          type: object
          properties:
            event:
              type: string
              description: Type of the event.
            data:
              type: object
              description: Payload data.

operations:
  sendMessage:
    action: send
    channel: /ws
    summary: Send a JSON message over the WebSocket connection.
    messages:
      - $ref: '#/channels/~1ws/messages/message'

  receiveMessage:
    action: receive
    channel: /ws
    summary: Receive a JSON message from the WebSocket connection.
    messages:
      - $ref: '#/channels/~1ws/messages/message'
